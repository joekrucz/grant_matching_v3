{% extends 'base.html' %}
{% load grant_filters %}
{% load static %}

{% block title %}Trellis - Find and Match UK Funding Opportunities{% endblock %}

{% block content %}
<style>
    @keyframes scroll {
        0% {
            transform: translateX(0);
        }
        100% {
            transform: translateX(-50%);
        }
    }
    
    .animate-scroll {
        animation: scroll 30s linear infinite;
        display: flex;
        width: max-content;
    }
    
    .animate-scroll:hover {
        animation-play-state: paused;
    }
    
    /* Fade edges for smooth appearance */
    .logo-scroll-container {
        mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
        -webkit-mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
    }
</style>
<!-- Hero Section -->
<div class="hero min-h-[60vh] bg-gradient-to-br from-base-200 to-base-300 flex flex-col">
    <div class="hero-content text-center flex-1">
        <div class="max-w-4xl">
            <h1 class="text-6xl font-bold mb-6">Find Your Perfect Grant Match</h1>
            <p class="text-xl mb-4 text-base-content/80">
                Trellis is your intelligent platform for discovering and matching UK funding opportunities.
            </p>
            <p class="text-lg mb-8 text-base-content/70">
                We aggregate grants from UKRI, NIHR, Catapult, and Innovate UK, then use AI to help you find the funding that fits your company.
            </p>
            {% if not user.is_authenticated %}
            <div class="flex justify-center gap-4 flex-wrap">
                <a href="{% url 'users:sign_up' %}" class="btn btn-primary btn-lg">Get Started Free</a>
            </div>
            {% endif %}
        </div>
    </div>
    
    <!-- Scrolling Logos Section -->
    <div class="w-full mt-8 pb-8">
        <div class="overflow-hidden relative logo-scroll-container">
            <div class="flex animate-scroll gap-12 items-center">
                <!-- First set of logos -->
                {% grant_source_logo 'bbsrc' as bbsrc_logo %}
                {% grant_source_logo 'epsrc' as epsrc_logo %}
                {% grant_source_logo 'mrc' as mrc_logo %}
                {% grant_source_logo 'stfc' as stfc_logo %}
                {% grant_source_logo 'ahrc' as ahrc_logo %}
                {% grant_source_logo 'esrc' as esrc_logo %}
                {% grant_source_logo 'nerc' as nerc_logo %}
                {% grant_source_logo 'innovate_uk' as innovate_uk_logo %}
                {% grant_source_logo 'ukri' as ukri_logo %}
                {% grant_source_logo 'nihr' as nihr_logo %}
                {% grant_source_logo 'catapult' as catapult_logo %}
                
                <!-- Duplicate set for seamless loop -->
                <img src="{% static bbsrc_logo %}" alt="BBSRC" class="h-12 w-auto opacity-80 hover:opacity-100 transition-opacity" onerror="this.style.display='none'">
                <img src="{% static epsrc_logo %}" alt="EPSRC" class="h-12 w-auto opacity-80 hover:opacity-100 transition-opacity" onerror="this.style.display='none'">
                <img src="{% static mrc_logo %}" alt="MRC" class="h-12 w-auto opacity-80 hover:opacity-100 transition-opacity" onerror="this.style.display='none'">
                <img src="{% static stfc_logo %}" alt="STFC" class="h-12 w-auto opacity-80 hover:opacity-100 transition-opacity" onerror="this.style.display='none'">
                <img src="{% static ahrc_logo %}" alt="AHRC" class="h-12 w-auto opacity-80 hover:opacity-100 transition-opacity" onerror="this.style.display='none'">
                <img src="{% static esrc_logo %}" alt="ESRC" class="h-12 w-auto opacity-80 hover:opacity-100 transition-opacity" onerror="this.style.display='none'">
                <img src="{% static nerc_logo %}" alt="NERC" class="h-12 w-auto opacity-80 hover:opacity-100 transition-opacity" onerror="this.style.display='none'">
                <img src="{% static innovate_uk_logo %}" alt="Innovate UK" class="h-12 w-auto opacity-80 hover:opacity-100 transition-opacity" onerror="this.style.display='none'">
                <img src="{% static ukri_logo %}" alt="UKRI" class="h-12 w-auto opacity-80 hover:opacity-100 transition-opacity" onerror="this.style.display='none'">
                <img src="{% static nihr_logo %}" alt="NIHR" class="h-12 w-auto opacity-80 hover:opacity-100 transition-opacity" onerror="this.style.display='none'">
                <img src="{% static catapult_logo %}" alt="Catapult" class="h-12 w-auto opacity-80 hover:opacity-100 transition-opacity" onerror="this.style.display='none'">
                
                <!-- Duplicate set for seamless loop -->
                <img src="{% static bbsrc_logo %}" alt="BBSRC" class="h-12 w-auto opacity-80 hover:opacity-100 transition-opacity" onerror="this.style.display='none'">
                <img src="{% static epsrc_logo %}" alt="EPSRC" class="h-12 w-auto opacity-80 hover:opacity-100 transition-opacity" onerror="this.style.display='none'">
                <img src="{% static mrc_logo %}" alt="MRC" class="h-12 w-auto opacity-80 hover:opacity-100 transition-opacity" onerror="this.style.display='none'">
                <img src="{% static stfc_logo %}" alt="STFC" class="h-12 w-auto opacity-80 hover:opacity-100 transition-opacity" onerror="this.style.display='none'">
                <img src="{% static ahrc_logo %}" alt="AHRC" class="h-12 w-auto opacity-80 hover:opacity-100 transition-opacity" onerror="this.style.display='none'">
                <img src="{% static esrc_logo %}" alt="ESRC" class="h-12 w-auto opacity-80 hover:opacity-100 transition-opacity" onerror="this.style.display='none'">
                <img src="{% static nerc_logo %}" alt="NERC" class="h-12 w-auto opacity-80 hover:opacity-100 transition-opacity" onerror="this.style.display='none'">
                <img src="{% static innovate_uk_logo %}" alt="Innovate UK" class="h-12 w-auto opacity-80 hover:opacity-100 transition-opacity" onerror="this.style.display='none'">
                <img src="{% static ukri_logo %}" alt="UKRI" class="h-12 w-auto opacity-80 hover:opacity-100 transition-opacity" onerror="this.style.display='none'">
                <img src="{% static nihr_logo %}" alt="NIHR" class="h-12 w-auto opacity-80 hover:opacity-100 transition-opacity" onerror="this.style.display='none'">
                <img src="{% static catapult_logo %}" alt="Catapult" class="h-12 w-auto opacity-80 hover:opacity-100 transition-opacity" onerror="this.style.display='none'">
            </div>
        </div>
    </div>
</div>

<!-- Features Section -->
<div class="py-16 bg-base-100">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
            <h2 class="text-4xl font-bold mb-4">Why Use Trellis?</h2>
            <p class="text-lg text-base-content/70 max-w-2xl mx-auto">
                Stop searching across multiple websites. We bring all UK funding opportunities to one place and help you find the right match.
            </p>
        </div>
        
        <div class="grid md:grid-cols-3 gap-8">
            <div class="card bg-base-200 shadow-lg">
                <div class="card-body">
                    <div class="text-4xl mb-4">üîç</div>
                    <h3 class="card-title text-xl mb-2">Comprehensive Grant Database</h3>
                    <p class="text-base-content/70">
                        Access grants from UKRI, NIHR, Catapult, and Innovate UK all in one place. Updated daily with the latest funding opportunities.
                    </p>
                </div>
            </div>
            
            <div class="card bg-base-200 shadow-lg">
                <div class="card-body">
                    <div class="text-4xl mb-4">ü§ñ</div>
                    <h3 class="card-title text-xl mb-2">AI-Powered Matching</h3>
                    <p class="text-base-content/70">
                        Our intelligent system analyzes your company profile and matches you with the most relevant grants, saving you hours of research.
                    </p>
                </div>
            </div>
            
            <div class="card bg-base-200 shadow-lg">
                <div class="card-body">
                    <div class="text-4xl mb-4">üìã</div>
                    <h3 class="card-title text-xl mb-2">Smart Checklists</h3>
                    <p class="text-base-content/70">
                        Get instant eligibility and competitiveness checklists for each grant, so you know exactly what you need to apply.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- How It Works Section -->
<div class="py-16 bg-base-200">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
            <h2 class="text-4xl font-bold mb-4">How It Works</h2>
        </div>
        
        <div class="grid md:grid-cols-4 gap-6">
            <div class="text-center">
                <div class="badge badge-primary badge-lg mb-4">1</div>
                <h3 class="font-semibold text-lg mb-2">Create Your Company Profile</h3>
                <p class="text-sm text-base-content/70">
                    Add your company details, sector, and funding needs
                </p>
            </div>
            
            <div class="text-center">
                <div class="badge badge-primary badge-lg mb-4">2</div>
                <h3 class="font-semibold text-lg mb-2">Browse Available Grants</h3>
                <p class="text-sm text-base-content/70">
                    Search and filter through hundreds of UK funding opportunities
                </p>
            </div>
            
            <div class="text-center">
                <div class="badge badge-primary badge-lg mb-4">3</div>
                <h3 class="font-semibold text-lg mb-2">Get AI-Powered Matches</h3>
                <p class="text-sm text-base-content/70">
                    Our system analyzes fit and shows you the best opportunities
                </p>
            </div>
            
            <div class="text-center">
                <div class="badge badge-primary badge-lg mb-4">4</div>
                <h3 class="font-semibold text-lg mb-2">Review & Apply</h3>
                <p class="text-sm text-base-content/70">
                    Use eligibility checklists to prepare your strongest application
                </p>
            </div>
        </div>
    </div>
</div>

<!-- CTA Section -->
<div class="py-16 bg-primary text-primary-content">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h2 class="text-4xl font-bold mb-4">Ready to Find Your Next Grant?</h2>
        <p class="text-xl mb-8 opacity-90">
            Join companies already using Trellis to discover funding opportunities faster.
        </p>
        <div class="flex justify-center gap-4 flex-wrap">
            {% if user.is_authenticated %}
            <a href="{% url 'grants:list' %}" class="btn btn-secondary btn-lg">Explore Grants</a>
            {% else %}
            <a href="{% url 'users:sign_up' %}" class="btn btn-secondary btn-lg">Sign Up Free</a>
            <a href="{% url 'users:sign_in' %}" class="btn btn-outline btn-lg btn-outline-secondary">Sign In</a>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}

